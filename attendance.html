<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

<div class="card shadow p-4 text-center">

<h4>Mark Attendance</h4>

<form onsubmit="send(event)">

<input name="name" id="box" class="form-control mt-3" placeholder="Enter your name">

<br>

<button class="btn btn-primary">Mark Attendance</button>

</form>

</div>

</div>

<script>

const SCRIPT="https://script.google.com/macros/s/AKfycbzsdn-hSwfiOgal8ilJXnMUBkIrcYOFeiUZOlunN4Xoj3WJVennpQBNMkuWxSKQJdVbWQ/exec";

box.value="";
if(localStorage.guard && localStorage.guard!="undefined"){
box.value=localStorage.guard;
}

let sent=false;

function send(e){
e.preventDefault();
if(sent) return;
sent=true;

fetch(`${SCRIPT}?name=${box.value}`)
.then(r=>r.text())
.then(t=>{
document.body.innerHTML="<h2 class='text-center mt-5'>Done!</h2>";
});

}

</script>

</body>
</html>
